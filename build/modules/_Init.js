// Generated by CoffeeScript 2.0.3
// Wiki Monkey - MediaWiki bot and editor-assistant user script
// Copyright (C) 2011 Dario Giovannetti <dev@dariogiovannetti.net>

// This file is part of Wiki Monkey.

// Wiki Monkey is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.

// Wiki Monkey is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.

// You should have received a copy of the GNU General Public License
// along with Wiki Monkey.  If not, see <http://www.gnu.org/licenses/>.
var ArchPackages_, ArchWiki_, Bot_, Cat_, Cfg_, Diff_, Editor_, Filters_, Interlanguage_, Log_, MW_, Menu_, Mods_, Parser_, Tables_, UI_, WhatLinksHere_;

ArchPackages_ = require('./ArchPackages').ArchPackages;

ArchWiki_ = require('./ArchWiki').ArchWiki;

Bot_ = require('./Bot').Bot;

Cat_ = require('./Cat').Cat;

Cfg_ = require('./Cfg').Cfg;

Diff_ = require('./Diff').Diff;

Editor_ = require('./Editor').Editor;

Filters_ = require('./Filters').Filters;

Interlanguage_ = require('./Interlanguage').Interlanguage;

Log_ = require('./Log').Log;

Menu_ = require('./Menu').Menu;

Mods_ = require('./Mods').Mods;

MW_ = require('./MW').MW;

Parser_ = require('./Parser').Parser;

Tables_ = require('./Tables').Tables;

UI_ = require('./UI').UI;

WhatLinksHere_ = require('./WhatLinksHere').WhatLinksHere;

module.exports.WM = class WM {
  constructor(...installedPlugins) {
    var Plugin, i, len, pname;
    this.ArchPackages = new ArchPackages_(this);
    this.ArchWiki = new ArchWiki_(this);
    this.Bot = new Bot_(this);
    this.Cat = new Cat_(this);
    this.Cfg = new Cfg_(this);
    this.Diff = new Diff_(this);
    this.Editor = new Editor_(this);
    this.Filters = new Filters_(this);
    this.Interlanguage = new Interlanguage_(this);
    this.Log = new Log_(this);
    this.Menu = new Menu_(this);
    this.Mods = new Mods_(this);
    this.MW = new MW_(this);
    this.Parser = new Parser_(this);
    this.Tables = new Tables_(this);
    this.UI = new UI_(this);
    this.WhatLinksHere = new WhatLinksHere_(this);
    this.Plugins = {};
    for (i = 0, len = installedPlugins.length; i < len; i++) {
      [pname, Plugin] = installedPlugins[i];
      this.Plugins[pname] = new Plugin(this);
    }
  }

  main(defaultConfig) {
    this.Cfg._load(defaultConfig);
    return this.UI._makeUI();
  }

};
